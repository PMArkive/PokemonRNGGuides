import{d as A,j as t,R as x,b4 as d,W as v,b5 as C,b6 as R,p as V,u as X,b7 as q,b8 as B,g as D,F,b9 as H,B as u}from"./index-DXZ5ShUP.js";const J=e=>e.type==="group"?(e.columns=e.columns.map(S),e):S(e),S=e=>{if(!e.monospace)return e;const a=e.render??R;return{...e,render:(l,n)=>t.jsx(V.Text,{fontFamily:"monospace",children:a(l,n)},e.dataIndex)}},K=e=>{const a=x.useMemo(()=>(e.columns??[]).map(J),[e.columns]),l=x.useMemo(()=>a.map(r=>r.type==="group"?t.jsx(d.ColumnGroup,{title:r.title,children:r.columns.map(s=>v.createElement(d.Column,{...s,key:s.dataIndex+" "+s.title}))},r.title):v.createElement(d.Column,{...r,key:r.dataIndex+" "+r.title})),[a]),{columns:n,...o}=e;return t.jsx(C,{children:({css:r})=>t.jsx(d,{...o,className:r({"&&&":{width:"100%",".ant-table-container":{overflowX:"scroll"},".ant-table-cell":{whiteSpace:"nowrap",width:"auto"}}}),children:l})})},L=e=>{const{isSubmitting:a}=A();return t.jsx(K,{...e,loading:a})},P=({submitTrackerId:e,initialValues:a,fields:l,validationSchema:n,getFields:o,columns:r,getColumns:s,onSubmit:E,onReset:M,onClickResultRow:c,rowKey:G,results:I,children:m,formContainerId:N,allowReset:g=!1,resetTrackerId:h,submitButtonLabel:j="Generate",cancelButtonLabel:b="Cancel",allowCancel:k=!1,cancelTrackerId:y,onCancel:w})=>{const i=X(),U=x.useMemo(()=>n==null?void 0:q.toFormikValidationSchema(n),[n]),W=j==="Generate"?i.Generate:j,_=b==="Cancel"?i.Cancel:b;return t.jsx(B,{enableReinitialize:!0,initialValues:a,onSubmit:E,onReset:M,validationSchema:U,children:f=>{const z=(()=>{if(m!=null)return m;const p=l??(o==null?void 0:o(i,f.values))??[];return t.jsx(D,{fields:p})})(),T=r??(s==null?void 0:s(i,f.values))??null;return t.jsxs(F,{vertical:!0,gap:16,id:N,children:[t.jsx(H,{children:t.jsxs(F,{vertical:!0,gap:8,children:[z,t.jsx(u,{trackerId:e,htmlType:"submit",children:W}),k&&y!=null&&t.jsx(u,{trackerId:y,htmlType:"button",onClick:w,children:_}),g&&h!=null&&t.jsx(u,{trackerId:h,htmlType:"reset",children:i.Reset})]})}),T!=null&&t.jsx(L,{columns:T,rowKey:G,dataSource:I,rowSelection:c==null?void 0:{type:"radio",onSelect:p=>c==null?void 0:c(p)}})]})}})};export{P as R};
