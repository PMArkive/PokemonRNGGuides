import{R as o,r as m,j as a,z as i,a as d,h as u,i as f,B as v}from"./index-DXZ5ShUP.js";import{R as x}from"./rngToolForm-B4hBWdo1.js";import{d as p,I as S}from"./id-Bad5r4ra.js";import{u as _}from"./rsTidState-BEn0oPKc.js";const I=({targetAdvance:t})=>{const[,n]=f(),[s,e]=_();return a.jsx(v,{trackerId:"select_rs_tid_advance",onClick:()=>{e({...s,targetAdvance:t}),n(r=>r+1)},children:"Select"})},b=[{title:"Select",dataIndex:"advance",render:t=>a.jsx(I,{targetAdvance:t})},{title:"Est. Time",dataIndex:"time"},{title:"TID",dataIndex:"tid"},{title:"SID",dataIndex:"sid"},{title:"TSV",dataIndex:"tsv"}],T=i.object({offset:i.number().int().min(0),initial_advances:i.number().int().min(0),max_advances:i.number().int().min(0),filter:S}),R={initial_advances:0,max_advances:1e4,offset:0,filter:{type:"tid",value0:0,value1:null}},j=[{label:"Initial Advances",input:a.jsx(d,{name:"initial_advances",numType:"decimal"})},{label:"Max Advances",input:a.jsx(d,{name:"max_advances",numType:"decimal"})},{label:"Filter",input:a.jsx(u,{name:"filter",optional:!0})}],h=t=>{const n=Math.floor(t/3600),s=Math.floor(t%3600/60),e=Math.floor(t%60);return`${n}:${s.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`},B=()=>{const[t,n]=o.useState([]),s=o.useCallback(async e=>{const c=(await m.gen3_tidsid_states({offset:e.offset,initial_advances:e.initial_advances,max_advances:e.max_advances,version_options:{Rs:"DeadBattery"},filter:p(e.filter)})).map(l=>({...l,time:h(l.advance/59.7275),offset:0}));n(c)},[]);return a.jsx(x,{fields:j,columns:b,results:t,initialValues:R,validationSchema:T,onSubmit:s,submitTrackerId:"generate_rs_tidsid"})};export{B as RsTidSidGenerator};
