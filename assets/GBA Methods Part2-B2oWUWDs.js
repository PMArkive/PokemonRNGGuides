import{E as r,j as e}from"./index-eK5-Hse0.js";const c={title:"Lead Impact on Wild Methods in Emerald",navDrawerTitle:"Methods & Lead",description:"Understanding why the lead impacts which Wild method is triggered",slug:"gba-methods-lead-impact",category:"GBA Technical Documentation",tag:"info",addedOn:"2025-06-18"};function i(s){const t={a:"a",h2:"h2",h3:"h3",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...r(),...s.components},{Gen3PidSpeedCalculator:n,Gist:d}=t;return n||l("Gen3PidSpeedCalculator"),d||l("Gist"),e.jsxs(e.Fragment,{children:[e.jsx(d,{children:e.jsx(t.p,{children:"Gist: Understanding why the lead impacts which Wild method is triggered."})}),`
`,e.jsx(t.h3,{children:"Prerequisite"}),`
`,e.jsxs(t.p,{children:["Having read ",e.jsx(t.a,{href:"/gba-methods",children:"Methods 1-4"})," and ",e.jsx(t.a,{href:"/gba-vblank",children:"VBlanks"})]}),`
`,e.jsx(t.h3,{children:"Pokémon Wild Encounter (Simplified version)"}),`
`,e.jsx(t.p,{children:"Here's a simplified example of the code executed on a wild encounter:"}),`
`,e.jsxs(t.table,{children:[e.jsx(t.thead,{children:e.jsxs(t.tr,{children:[e.jsx(t.th,{children:"Step"}),e.jsx(t.th,{children:"Cycles"}),e.jsx(t.th,{children:"Total Cycles"})]})}),e.jsxs(t.tbody,{children:[e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"1- Update audio & visual"}),e.jsx(t.td,{children:"+ 50K"}),e.jsx(t.td,{children:"50K"})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"2- Miscellaneous updates"}),e.jsx(t.td,{children:"+ 5K"}),e.jsx(t.td,{children:"55K"})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"3- Prepare wild encounter"}),e.jsx(t.td,{children:"+ 15K-115K"}),e.jsx(t.td,{children:"70K-170K"})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"4- Generate valid PID"}),e.jsx(t.td,{children:"+ 10K"}),e.jsx(t.td,{children:"80K-180K"})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"5- Create Pokémon without IVs"}),e.jsx(t.td,{children:"+ 115K"}),e.jsx(t.td,{children:"195K-295K"})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"6- Generate Def, Atk, HP IVs"}),e.jsx(t.td,{children:"+ 1K"}),e.jsx(t.td,{children:"196K-296K"})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"7- Assign Def, Atk, HP IVs"}),e.jsx(t.td,{children:"+ 39K"}),e.jsx(t.td,{children:"235K-335K"})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"8- Generate SpD, SpA, Spe IVs"}),e.jsx(t.td,{children:"+ 1K"}),e.jsx(t.td,{children:"236K-336K"})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"9- Assign SpD, SpA, Spe IVs"}),e.jsx(t.td,{children:"+ 39K"}),e.jsx(t.td,{children:"275K-375K"})]})]})]}),`
`,e.jsx(t.p,{children:'Reminder: When the cycle count reaches 280K, a VBlank occurs. VBlank occurring during step "5- Create Pokémon without IVs" will cause Wild-2 method. VBlank at step "7- Assign Def, Atk, HP IVs" causes Wild-4 method. VBlank occurring afterwards or no VBlank will cause Wild-1.'}),`
`,e.jsx(t.p,{children:'During the step "3- Prepare wild encounter", the code fetches the ability of the lead Pokémon multiple times. This takes a variable number of cycles depending on the lead.'}),`
`,e.jsx(t.p,{children:"By using a carefully selected lead, we can control which wild method will be triggered."}),`
`,e.jsxs(t.table,{children:[e.jsx(t.thead,{children:e.jsxs(t.tr,{children:[e.jsx(t.th,{children:"Step"}),e.jsxs(t.th,{children:["Fastest Lead",e.jsx("br",{}),"Wild-1"]}),e.jsxs(t.th,{children:["Fast Lead",e.jsx("br",{}),"Wild-4"]}),e.jsxs(t.th,{children:["Slow Lead",e.jsx("br",{}),"Wild-2"]})]})}),e.jsxs(t.tbody,{children:[e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"1- Update audio & visual"}),e.jsx(t.td,{children:"50K"}),e.jsx(t.td,{children:"50K"}),e.jsx(t.td,{children:"50K"})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"2- Miscellaneous updates"}),e.jsx(t.td,{children:"55K"}),e.jsx(t.td,{children:"55K"}),e.jsx(t.td,{children:"100K"})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"3- Prepare wild encounter"}),e.jsx(t.td,{children:"70K (fastest)"}),e.jsx(t.td,{children:"120K (fast)"}),e.jsx(t.td,{children:"170K (slow)"})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"4- Generate valid PID"}),e.jsx(t.td,{children:"80K"}),e.jsx(t.td,{children:"130K"}),e.jsx(t.td,{children:"180K"})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"5- Create Pokémon without IVs"}),e.jsx(t.td,{children:"195K"}),e.jsx(t.td,{children:"245K"}),e.jsx(t.td,{children:"295K (VBlank)"})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"6- Generate Def, Atk, HP IVs"}),e.jsx(t.td,{children:"196K"}),e.jsx(t.td,{children:"246K"}),e.jsx(t.td,{children:"..."})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"7- Assign Def, Atk, HP IVs"}),e.jsx(t.td,{children:"235K"}),e.jsx(t.td,{children:"285K (VBlank)"}),e.jsx(t.td,{children:"..."})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"8- Generate SpD, SpA, Spe IVs"}),e.jsx(t.td,{children:"236K ..."}),e.jsx(t.td,{children:"..."}),e.jsx(t.td,{children:"..."})]})]})]}),`
`,e.jsx(t.h3,{children:"Determining if a lead is slow or fast"}),`
`,e.jsx(t.p,{children:"There are 2 factors that determine if a lead is slow or fast:"}),`
`,e.jsxs(t.ul,{children:[`
`,e.jsx(t.li,{children:"Whether it's an egg"}),`
`,e.jsx(t.li,{children:"Its PID"}),`
`]}),`
`,e.jsx(t.p,{children:"If the lead is an egg, a lot of the Pokémon generation logic is skipped, which saves a lot of cycles. The PID of the egg has no impact."}),`
`,e.jsx(t.p,{children:"If the lead is not an egg, the code performs a modulo operation on its PID to obtain its ability. The number of cycles taken by this modulo operation depends on the PID value."}),`
`,e.jsxs(t.ul,{children:[`
`,e.jsx(t.li,{children:"The fastest possible modulo operation is 18 cycles when the lead PID is below 25."}),`
`,e.jsx(t.li,{children:"The slowest is 900 cycles (ex: for PID 59999995)."}),`
`,e.jsx(t.li,{children:"In average, it takes 775 cycles."}),`
`]}),`
`,e.jsx(t.p,{children:"A typical wild encounter triggers the modulo operation 80 times."}),`
`,e.jsxs(t.ul,{children:[`
`,e.jsx(t.li,{children:"The total difference between the fastest and the slowest lead PID is ~71K cycles."}),`
`,e.jsx(t.li,{children:"The total difference between an egg and the slowest lead PID is ~100K cycles."}),`
`]}),`
`,e.jsx(t.p,{children:"This big cycle difference is why we can use a lead to control which wild method is triggered."}),`
`,e.jsx(n,{}),`
`,e.jsx(t.h3,{children:"Pokémon Wild Encounter (Complete version)"}),`
`,e.jsx(t.p,{children:`In reality, the wild encounter logic is more complex than the simplified version above, because most steps take a variable number of cycles.
Fortunately, in most cases, the number of cycles taken by each step can be precalculated.`}),`
`,e.jsxs(t.table,{children:[e.jsx(t.thead,{children:e.jsxs(t.tr,{children:[e.jsx(t.th,{children:"Step"}),e.jsx(t.th,{children:"Cycles"}),e.jsx(t.th,{children:"Type"}),e.jsx(t.th,{children:"Depends on"})]})}),e.jsxs(t.tbody,{children:[e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"1- Update audio & visual"}),e.jsx(t.td,{children:"45K-65K"}),e.jsx(t.td,{children:"Unpredictable"}),e.jsx(t.td,{children:"Audio frame"})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"2- Miscellaneous updates"}),e.jsx(t.td,{children:"5K"}),e.jsx(t.td,{children:"Precalculable"}),e.jsx(t.td,{children:"-"})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"3- Prepare wild encounter"}),e.jsx(t.td,{children:"15K-115K"}),e.jsx(t.td,{children:"Controllable"}),e.jsx(t.td,{children:"Lead"})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"4- Generate valid PID"}),e.jsx(t.td,{children:"1K-1000K"}),e.jsx(t.td,{children:"Precalculable"}),e.jsx(t.td,{children:"RNG state (# PID rerolls)"})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"5- Create Pokémon without IVs"}),e.jsx(t.td,{children:"36K-125K"}),e.jsx(t.td,{children:"Precalculable"}),e.jsx(t.td,{children:"Generated Pokémon PID"})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"6- Generate Def, Atk, HP IVs"}),e.jsx(t.td,{children:"1K"}),e.jsx(t.td,{children:"Precalculable"}),e.jsx(t.td,{children:"-"})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"7- Assign Def, Atk, HP IVs"}),e.jsx(t.td,{children:"11K-43K"}),e.jsx(t.td,{children:"Precalculable"}),e.jsx(t.td,{children:"Generated Pokémon PID"})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"8- Generate SpD, SpA, Spe IVs"}),e.jsx(t.td,{children:"1K"}),e.jsx(t.td,{children:"Precalculable"}),e.jsx(t.td,{children:"-"})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"9- Assign SpD, SpA, Spe IVs"}),e.jsx(t.td,{children:"Doesn't matter"}),e.jsx(t.td,{}),e.jsx(t.td,{})]})]})]}),`
`,e.jsx(t.p,{children:'The step with the most variability is "4- Generate valid PID". In that step, the game generates a random nature, and then a PID is generated until it matches the wanted nature. In some cases, this can take a lot of retries. If the lead has the Cute Charm ability, then the generated PID must also match the wanted gender, resulting in even more retries.'}),`
`,e.jsx(t.p,{children:"If that step takes too many cycles (ex: 150K cycles), triggering Wild-1 might not be possible, even with the fastest possible lead. Using a fast lead only increases the likelihood of Wild-1. Similarily, if that step is too fast (ex: 1K cycles), triggering Wild-2 might not be possible, even with the slowest lead."}),`
`,e.jsx(t.p,{children:'The cycles of the step "1- Update audio & visual" depends on the audio frame, which depends on the frame the savefile is loaded and other factors. It is impossible to predict on retail and will vary between each RNG manipulation attempt.'}),`
`,e.jsx(t.h3,{children:"VBlank when generating a valid PID"}),`
`,e.jsx(t.p,{children:'A VBlank occurring during the step "4- Generate valid PID" would result in either Wild-3 or Wild-5. Those methods will be covered in the next article.'}),`
`,e.jsx(t.h2,{children:"Credits"}),`
`,e.jsxs(t.ul,{children:[`
`,e.jsx(t.li,{children:"RainingChain for the article."}),`
`,e.jsx(t.li,{children:"mGBA team for providing the emulator for cycle research."}),`
`,e.jsxs(t.li,{children:[e.jsx(t.a,{href:"https://github.com/pret/pokeemerald",children:"pret team"})," for providing the decompil projects."]}),`
`,e.jsx(t.li,{children:"El Terapagos Mexicano for the Spanish translation."}),`
`]})]})}function a(s={}){const{wrapper:t}={...r(),...s.components};return t?e.jsx(t,{...s,children:e.jsx(i,{...s})}):i(s)}function l(s,t){throw new Error("Expected component `"+s+"` to be defined: you likely forgot to import, pass, or provide it.")}export{a as default,c as frontmatter};
