import{m as o,R as s,j as c,z as r,r as l,a as x,f as L}from"./index-DXZ5ShUP.js";import{R as I}from"./rngToolForm-B4hBWdo1.js";import{f as R}from"./formatLargeInteger-DQc_Xnt7.js";function g(a,e,t){return a===a&&(t!==void 0&&(a=a<=t?a:t),e!==void 0&&(a=a>=e?a:e)),a}function m(a,e,t){return t===void 0&&(t=e,e=void 0),t!==void 0&&(t=o(t),t=t===t?t:0),e!==void 0&&(e=o(e),e=e===e?e:0),g(o(a),e,t)}const S=(a,e)=>{const t=[];return e==="Live"&&t.push({title:"Day",dataIndex:"day",render:n=>`${n+1}`},{title:"Time To Wait",dataIndex:"day_diff",render:n=>`${n} day${n===1?"":"s"}`}),t.push({title:"PID Pattern",dataIndex:"pid_pattern",render:n=>`****${n.toString(16).toUpperCase().padStart(4,"0")}`,monospace:!0}),(a==="emerald"||e==="Dead")&&t.push({title:"Method-1 Earliest RNG Advance matching PID Pattern",dataIndex:"earliest_adv",render:n=>R(n)}),t},_=r.object({battery:r.enum(["Live","Dead"]),rocketLaunchedCount:r.number().int().min(0).max(65535)}),k={battery:"Live",rocketLaunchedCount:0},C=(a,e)=>{const t=a==="emerald"?0:1440;if(e.battery==="Dead")return l.mirage_island_calculate(t,0,0);const i=100,n=m(e.rocketLaunchedCount*7,0,65535),d=m(n+i-1,0,65535);return l.mirage_island_calculate(t,n,d)},b=(a,e)=>{const t=[{label:"Battery",input:c.jsx(L,{name:"battery",options:["Live","Dead"]})}];return e.battery==="Live"&&t.push({label:"Rocket Launched",input:c.jsx(x,{name:"rocketLaunchedCount",numType:"decimal"})}),t},j=({game:a="emerald"})=>{const[e,t]=s.useState([]),[i,n]=s.useState("Live"),d=s.useCallback(async u=>{const{battery:y}=u,h=await C(a,u);t(h),n(y)},[a]),f=s.useMemo(()=>S(a,i),[a,i]);return c.jsx(I,{getFields:b,columns:f,results:e,initialValues:k,validationSchema:_,onSubmit:d,rowKey:"day",submitTrackerId:"mirage_island"})};export{j as Gen3MirageIsland};
