import{C as x,j as a,S as f,R as u,r as y,z as t,v as S,e as m,b as o,t as j,a as c,i as v,B as I,c as k}from"./index-DXZ5ShUP.js";import{R as w}from"./rngToolForm-B4hBWdo1.js";import{s as T,g as C}from"./species-Be9kh-u_.js";import{a as F,b as g,n as _,g as R}from"./pkmFilter-Dut2CP0u.js";import{u as E,a as p}from"./state-CFkWkYUl.js";import{a as A}from"./approximateGen3FrameTime-O7_zeNYB.js";import"./ivs-DDKKiU8r.js";const D=({result:e})=>{const[,n]=v(),[,i]=p(),d=u.useCallback(()=>{i(s=>({...s,target:{...e,redraws:e.redraws,calibration:e.calibration,advance:e.advance}})),n(s=>s+1)},[e,i,n]);return a.jsx(I,{trackerId:"select_retail_emerald_held_egg",onClick:d,children:"Select"})},G=[{title:"Select",dataIndex:"advance",render:(e,n)=>a.jsx(D,{result:n})},{title:"Time",dataIndex:"time"},{title:"Shiny",dataIndex:"shiny",render:e=>e?"Yes":"No"},{title:"PokeDex",dataIndex:"redraws",render:e=>`PokeDex x${e}`},{title:"Match call",dataIndex:"match_call",render:e=>S(e)},{title:"PID",dataIndex:"pid",monospace:!0,render:e=>e.toString(16).padStart(8,"0").toUpperCase()},{title:"Gender",dataIndex:"gender"},{title:"Nature",dataIndex:"nature"},{title:"Ability",dataIndex:"ability"},{title:"Advance",dataIndex:"advance"}],h=["DontLikeEachOther","GetAlong","GetAlongVeryWell"],O=t.object({max_advances:t.number().int().min(0),has_roamer:t.boolean(),has_lightning_rod:t.boolean(),female_has_everstone:t.boolean(),female_nature:t.enum(g),compatability:t.enum(h),tid:t.number().int().min(0).max(65535),sid:t.number().int().min(0).max(65535),egg_species:t.enum(T),filter_shiny:t.boolean(),filter_nature:t.enum(g).nullable(),filter_gender:t.enum(F).nullable()}),H={max_advances:1e4,has_roamer:!1,has_lightning_rod:!0,female_has_everstone:!1,female_nature:"Adamant",compatability:"GetAlong",tid:0,sid:0,egg_species:"Bulbasaur",filter_shiny:!1,filter_nature:null,filter_gender:null},B=j(h,e=>k(e).with("GetAlong",()=>"The two seem to get along").with("GetAlongVeryWell",()=>"The two seem to get along very well").with("DontLikeEachOther",()=>"The two don't seem to like each other").exhaustive()),N=[{label:"Has lightning rod",input:a.jsx(m,{name:"has_lightning_rod"})},{label:"Roamer is active",input:a.jsx(m,{name:"has_roamer"})},{label:"Female has everstone",input:a.jsx(m,{name:"female_has_everstone"})},{label:"Female nature",input:a.jsx(o,{name:"female_nature",options:_.required})},{label:"Egg species",input:a.jsx(o,{name:"egg_species",options:C.byName})},{label:"Compatability",input:a.jsx(o,{name:"compatability",options:B})},{label:"TID",input:a.jsx(c,{name:"tid",numType:"decimal"})},{label:"SID",input:a.jsx(c,{name:"sid",numType:"decimal"})},{label:"Max advances",input:a.jsx(c,{name:"max_advances",numType:"decimal"})},{label:"Filter shiny",input:a.jsx(m,{name:"filter_shiny"})},{label:"Filter nature",input:a.jsx(o,{name:"filter_nature",options:_.optional})},{label:"Filter gender",input:a.jsx(o,{name:"filter_gender",options:R})}],V=({registeredTrainers:e})=>{const[,n]=p(),[i,d]=u.useState([]),s=u.useCallback(async l=>{const b=await y.emerald_egg_held_states({...l,delay:0,registered_trainers:e,lua_adjustment:!0,min_redraw:0,max_redraw:100,calibration:19,initial_advances:2e3,filter_impossible_to_hit:!0,filters:{shiny:l.filter_shiny,nature:l.filter_nature,gender:l.filter_gender}});d(b.map(r=>({...r,time:A(r.advance),key:`${r.advance}-${r.pid}`}))),n(r=>({...r,eggSettings:l}))},[e,n]);return a.jsx(w,{fields:N,columns:G,results:i,initialValues:H,validationSchema:O,onSubmit:s,formContainerId:"retail_emerald_held_egg_form",submitTrackerId:"generate_retail_emerald_held_egg",rowKey:"key"})},K=()=>{const[e]=E(),{hydrated:n,client:i}=x(e);return n?a.jsx(V,{registeredTrainers:i.registeredTrainers}):a.jsx(f,{})};export{K as RetailEmeraldHeldEgg};
