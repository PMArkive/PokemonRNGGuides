import{R as _,r as I,q as b,j as e,z as l,v as k,o as p,bx as v,H as S,a as c,n as m,i as j,B as h}from"./index-DXZ5ShUP.js";import{R as y}from"./rngToolForm-B4hBWdo1.js";import{m as o,a as R}from"./ivs-DDKKiU8r.js";import{f as E,i as T}from"./ivColumns-Co1n9lOk.js";import{b as x}from"./state-CFkWkYUl.js";import{p as C}from"./index-DYfrB5EN.js";import{a as P}from"./approximateGen3FrameTime-O7_zeNYB.js";import{i as V}from"./constants-Bv2wZiBa.js";const M=({result:a})=>{const[,n]=j(),[,r]=x();return e.jsx(h,{trackerId:"select_retail_emerald_pickup_egg",onClick:()=>{r(i=>({...i,targetAdvance:a.advance,targetMethod:a.method})),n(i=>i+1)},children:"Select"})},B=[{title:"Select",dataIndex:"advance",render:(a,n)=>e.jsx(M,{result:n})},{title:"Time",dataIndex:"advance",render:P},{title:"Method",dataIndex:"method",render:a=>k(a)},...T],w=l.object({seed:S(4294967295),initial_advances:l.number().int().min(0),max_advances:l.number().int().min(0),parent1_ivs:v,parent2_ivs:v,filter_min_ivs:p,filter_max_ivs:p}),F={seed:0,initial_advances:1e3,max_advances:1e4,parent1_ivs:o,parent2_ivs:o,filter_min_ivs:R,filter_max_ivs:o},H=[{label:"Seed",input:e.jsx(c,{name:"seed",numType:"hex"})},{label:"Initial advances",input:e.jsx(c,{name:"initial_advances",numType:"decimal"})},{label:"Max advances",input:e.jsx(c,{name:"max_advances",numType:"decimal"})},{label:"Parent 1 IVs",input:e.jsx(m,{name:"parent1_ivs"})},{label:"Parent 2 IVs",input:e.jsx(m,{name:"parent2_ivs"})},{label:"Egg min IVs",input:e.jsx(m,{name:"filter_min_ivs"})},{label:"Egg max IVs",input:e.jsx(m,{name:"filter_max_ivs"})}],O=()=>{const[a,n]=_.useState([]),[,r]=x(),i=_.useCallback(async s=>{const d=[s.parent1_ivs,s.parent2_ivs],g=(await C(V,async t=>(await I.emerald_egg_pickup_states({...s,delay:0,method:t,parent_ivs:d,lua_adjustment:!0,filter:{max_ivs:s.filter_max_ivs,min_ivs:s.filter_min_ivs}})).map(u=>E({...u,method:t,key:`${t}-${u.advance}`})),{concurrency:3})).flat(),f=b(g,t=>t.advance);n(f),r(t=>({...t,seed:s.seed,parentIvs:d}))},[r]);return e.jsx(y,{fields:H,columns:B,results:a,initialValues:F,validationSchema:w,onSubmit:i,formContainerId:"retail_emerald_pickup_egg_form",submitTrackerId:"generate_retail_emerald_pickup_egg",rowKey:"key"})};export{O as RetailEmeraldPickupEgg};
