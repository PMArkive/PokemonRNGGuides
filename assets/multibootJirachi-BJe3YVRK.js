import{R as o,j as s,a as I,F as m,r as S,z as i,c as x,A as j}from"./index-DXZ5ShUP.js";import{F as b}from"./fileUpload-DVI7Ingq.js";import{R as f}from"./rngToolForm-B4hBWdo1.js";import{a as F}from"./ivColumns-Co1n9lOk.js";import{c as y,p as _,d as k,e as w}from"./pkmFilter-Dut2CP0u.js";import"./ivs-DDKKiU8r.js";const R=i.union([i.literal("NeedToSaveAgain"),i.object({InvalidSave:i.enum(["InvalidLength","InvalidMagic"])})]),T=e=>[{title:e.Seed,dataIndex:"seed",render:t=>t.toString(16).toUpperCase().padStart(4,"0")},{title:e.Hours,dataIndex:"hours"},{title:e.Minutes,dataIndex:"minutes"},{title:e.Seconds,dataIndex:"seconds"},{title:e.Frames,dataIndex:"frames"},{title:e.Shiny,dataIndex:"shiny",render:t=>t?"Yes":"No"},...F],C=i.object({hours:i.number().int().min(1).max(999)}).merge(w),M={hours:1,...k()},z=({jirachi:e})=>{const[t,u]=o.useState(Uint8Array.from([])),[h,l]=o.useState([]),[d,c]=o.useState(null),v=o.useCallback(r=>[{label:r["Search Hours"],input:s.jsx(I,{name:"hours",numType:"decimal"})},...y({ability:!1,gender:!1}),{label:r["Save file"],input:s.jsx(m,{width:"100%",children:s.jsx(b,{id:"multiboot_jirachi_save",flex:1,onUpload:async([n])=>u(n)})})}],[]),p=o.useCallback(async r=>{try{const n=await S.search_mb_jirachi_times({save:[...t],hours:r.hours,jirachi_type:e,filter:_(r)});c(null),l(n.map(a=>({seed:a.seed,pid:a.jirachi.pid,shiny:a.jirachi.shiny,...a.jirachi.ivs,...a.save_time})))}catch(n){const a=R.safeParse(n),g=x(a).with({success:!1},()=>"Unknown error!").with({data:{InvalidSave:"InvalidLength"}},()=>"Invalid save length!").with({data:{InvalidSave:"InvalidMagic"}},()=>"Invalid save (magic)!").with({data:"NeedToSaveAgain"},()=>"Need to save again!").exhaustive();l([]),c(g)}},[t,e]);return s.jsxs(m,{vertical:!0,gap:16,children:[d!=null&&s.jsx(j,{showIcon:!0,type:"error",message:d}),s.jsx(f,{getFields:v,getColumns:T,results:h,initialValues:M,validationSchema:C,onSubmit:p,formContainerId:"multiboot_jirachi_form",submitTrackerId:"generate_multiboot_jirachi"})]})};export{z as MultibootJirachi};
