import{u as y,R as f,j as l,B as A}from"./index-DXZ5ShUP.js";const R=n=>new Promise((o,u)=>{const r=new FileReader;r.onload=t=>{var a;const e=(a=t.target)==null?void 0:a.result;o(new Uint8Array(e))},r.onerror=t=>{u(t)},r.readAsArrayBuffer(n)}),F=({id:n,accept:o,flex:u,onUpload:r})=>{const t=y(),e=f.useRef(null),[a,c]=f.useState(null),m=async s=>{const i=s.target.files;if(i==null){c(null);return}const p=Array.from(i).map(R),d=await Promise.all(p);r(d),c(i[0].name),e.current!=null&&(e.current.value="")};return l.jsxs(l.Fragment,{children:[l.jsx("input",{ref:e,id:n,type:"file",accept:o,multiple:!0,hidden:!0,onChange:m}),l.jsx(A,{type:"primary",flex:u,trackerId:`upload_${n}`,onClick:()=>{var s;return(s=e.current)==null?void 0:s.click()},children:a??t["Upload!"]})]})};export{F};
